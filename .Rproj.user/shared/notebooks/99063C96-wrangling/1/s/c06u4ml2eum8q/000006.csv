"0","zoning_data <- parcel_data@data[,c(1, 8, 10, 21:55)]
type_cols <- names(zoning_data)[grep(""type"", names(zoning_data))]
zoning_data <- zoning_data[,!(names(zoning_data) %in% type_cols)]
#note, date is not always mid month, doing this for simplicity
names(zoning_data)[grep(""20"", names(zoning_data))] <- paste0('15', names(zoning_data)[grep(""20"", names(zoning_data))])
#put data in long format
zoning_data <- gather(zoning_data, key = ""Date"", value = ""Zoning"", -c(""OBJECTID"", ""REGION"", ""LANDMARKED"", ""CREATE_DAT"", ""EDIT_DATE""))
"
"2","attributes are not identical across measure variables;
they will be dropped"
"0","#convert to dates"
"0","zoning_data <- mutate(zoning_data, Date=as.Date(Date, ""%d%b%Y""),"
"0","                                   LANDMARKED = as.Date(LANDMARKED, format = ""%m/%d/%Y""),"
"0","                                   REGION = as.character(REGION), "
"0","                                   CREATE_DAT = as.Date(CREATE_DAT))"
"0","#create floor area ratio data"
"0","Zoning <- c(""RS-1"", ""RS-2"", ""RS-3"", ""RT-3.5"", ""RT-4"", ""RT-4A"", ""RM-4.5"", ""RM-5"", ""RM-5.5"", ""RM-6"", ""RM-6.5"", ""DR-10"", ""DR-3"", ""DR-5"", ""DR-7"")"
"0","#note: RT4-A is 1.2-1.5, but here counting as 1.5"
"0","FAR <- c(0.5, 0.65, 0.9, 1.05, 1.2, 1.5, 1.7, 2, 2.5, 4.4, 6.6, 10, 3, 5, 7)"
"0","far_levels <- data.frame(Zoning, FAR, stringsAsFactors = F)"
"0","#merge floor area ratio data"
"0","zoning_data <- left_join(zoning_data, far_levels, by = ""Zoning"") %>%"
"0","                  subset(select = c(OBJECTID, REGION, Date, Zoning, FAR, LANDMARKED, CREATE_DAT, EDIT_DATE))"
"0","zoning_data <- zoning_data[order(zoning_data$LANDMARKED, zoning_data$OBJECTID),]"
