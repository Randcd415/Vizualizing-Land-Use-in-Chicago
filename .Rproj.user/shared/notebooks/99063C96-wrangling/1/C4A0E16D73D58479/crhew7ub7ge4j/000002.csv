"0","#get centroid of most recent shpfile"
"0","JAN2019@data$CENTROID <- gCentroid(JAN2019, byid = TRUE)"
"0","shp_files <- ls()[grep(""20"", ls())]"
"0","for(i in 2:length(shp_files)){"
"0","  temp <- get(shp_files[i])"
"0","  matches <- over(JAN2019$CENTROID, as(temp, ""SpatialPolygons""))"
"0","  JAN2019@data[, shp_files[i]] <- temp$ZONE_CLASS[matches]"
"0","  JAN2019@data[, paste0(shp_files[i], ""_type"")] <- temp$ZONE_TYPE[matches]"
"0","}"
"0","#clean up environment"
"0","parcel_data <- JAN2019"
"0","rm(list = ls()[grep(""20"", ls())])"
"0","#match landmarks"
"0","landmarks_shp$landmark <- landmarks_shp$landmark %>% as.character()"
"0","landmarks_shp <- landmarks_shp[!is.na(landmarks_shp$landmark),]"
"0","landmarks_shp$CENTROID <- gCentroid(landmarks_shp, byid = TRUE)"
"0","landmarks_shp$PARCEL <- over(landmarks_shp$CENTROID, as(parcel_data, ""SpatialPolygons""))"
"0","landmarks_shp <- landmarks_shp[!is.na(landmarks_shp$PARCEL),]"
"0","parcel_data$LANDMARKED <- NA"
"0","parcel_data$LANDMARKED[landmarks_shp$PARCEL] <- landmarks_shp$landmark"
"0","#match wards to parcels"
"0","ward_matches <- over(parcel_data$CENTROID, as(wards, ""SpatialPolygons""))"
"0","parcel_data$WARD <- wards$ward[ward_matches]"
"0","#clean up environment"
"0","rm(landmarks_shp, ward_matches)"
