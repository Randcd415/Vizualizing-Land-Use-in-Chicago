"0","#v16 <- load_variables(year = 2016, dataset = ""acs5"")"
"0","acs_wide_2013_2017 <-  get_acs(geography = ""tract"", year = 2017, "
"0","                 variables = c(""B01003_001"", ""B25008_002"", ""B25008_003"","
"0","                               ""B02001_002"", ""B02001_003"", ""B02001_004"","
"0","                               ""B02001_005"", ""B03002_012"", ""B17026_001"","
"0","                               ""B19025_001""), "
"0","                 state = ""IL"", county = ""Cook"", geometry = F, output = ""wide"")"
"2","Getting data from the 2013-2017 5-year ACS
"
"2","Using FIPS code '17' for state 'IL'
"
"2","Using FIPS code '031' for 'Cook County'
"
"0","variable <-c(""B01003_001E"", ""B25008_002E"", ""B25008_003E"",""B02001_002E"", ""B02001_003E"", ""B02001_004E"",""B02001_005E"", ""B03002_012E"", ""B17026_001E"",""B19025_001E"","
"0","             ""B01003_001M"", ""B25008_002M"", ""B25008_003M"",""B02001_002M"", ""B02001_003M"", ""B02001_004M"",""B02001_005M"", ""B03002_012M"", ""B17026_001M"",""B19025_001M"")"
"0","names <- c(""pop_e"", ""owner_pop_e"", ""renter_pop_e"", ""white_pop_e"", ""black_pop_e"", ""indian_pop_e"", ""asian_pop_e"", ""hispanic_pop_e"", ""inc_pov_ratio_e"", ""agg_income_e"","
"0","           ""pop_m"", ""owner_pop_m"", ""renter_pop_m"", ""white_pop_m"", ""black_pop_m"", ""indian_pop_m"", ""asian_pop_m"", ""hispanic_pop_m"", ""inc_pov_ratio_m"", ""agg_income_m"")"
"0","var_names <- data.frame(variable, names, stringsAsFactors = F)"
"0","variable <- names(acs_wide_2013_2017) %>% data.frame(stringsAsFactors = F)"
"0","names(variable) <- ""variable"""
"0","renames <- left_join(variable, var_names, by = ""variable"")"
"0","names(acs_wide_2013_2017)[3:22] <- renames$names[3:22]"
"0","tracts <- readOGR(here(""raw_data"", ""Boundaries - Census Tracts - 2010""), layer = ""geo_export_52dfa5f1-1eaf-49e1-9862-1998098d508c"")"
"1","OGR data source with driver:"
"1"," "
"1","ESRI Shapefile"
"1"," "
"1","
"
"1","Source: """
"1","C:\Users\7450\Documents\Harris MPP\Q5\Data Viz\project_chicago_zoning\raw_data\Boundaries - Census Tracts - 2010"
"1",""", layer: """
"1","geo_export_52dfa5f1-1eaf-49e1-9862-1998098d508c"
"1",""""
"1","
"
"1","with"
"1"," "
"1","801"
"1"," "
"1","features"
"1","
"
"1","It has"
"1"," "
"1","9"
"1"," "
"1","fields"
"1","
"
"0","tracts <- spTransform(tracts, proj4string(wards))"
"0","tracts$CENTROID <- gCentroid(tracts, byid = T)"
"0","tract_matches <- over(tracts$CENTROID, as(wards, ""SpatialPolygons""))"
"0","tracts$WARD <- wards$ward[tract_matches]"
"0","tract_data <- tracts@data[,c(4, 11)]"
"0","tract_data$geoid10 <- as.character(tract_data$geoid10)"
"0","acs_wide_2013_2017 <- left_join(acs_wide_2013_2017, tract_data, by = c(""GEOID""=""geoid10""))"
"0","write_csv(acs_wide_2013_2017, here(""clean_data"", ""acs_2013_2017.csv""))"
"0","#2000 data"
"0","acs_wide_2000 <-  get_decennial(geography = ""tract"", year = 2000, "
"0","                 variables = c(""TRACT"", ""H004001"", ""H004002"", ""H004003"", ""H005001"", ""H007003"", ""H006003"", ""H006005"", ""H007010"", ""H010001""), "
"0","                 state = ""IL"", county = ""Cook"", geometry = F, output = ""wide"")"
"2","Getting data from the 2000 decennial Census
"
"2","Using FIPS code '17' for state 'IL'
"
"2","Using FIPS code '031' for 'Cook County'
"
"0","names(acs_wide_2000)[3:12] <- c(""tract"", ""housing_units"", ""owned_units"", ""rented_units"", ""vacant_units"", ""white_alone"",""black_alone"", ""asian_alone"", ""hispanic_alone"", ""pop_housing"")"
"0","#line up 2000 level tracts to wards"
"0","tracts_2000 <- readOGR(here(""raw_data"", ""Boundaries - Census Tracts - 2000""), layer = ""geo_export_9b915034-d03a-43fc-945e-554302d0ce97"")"
"1","OGR data source with driver:"
"1"," "
"1","ESRI Shapefile"
"1"," "
"1","
"
"1","Source: """
"1","C:\Users\7450\Documents\Harris MPP\Q5\Data Viz\project_chicago_zoning\raw_data\Boundaries - Census Tracts - 2000"
"1",""", layer: """
"1","geo_export_9b915034-d03a-43fc-945e-554302d0ce97"
"1",""""
"1","
"
"1","with"
"1"," "
"1","878"
"1"," "
"1","features"
"1","
"
"1","It has"
"1"," "
"1","18"
"1"," "
"1","fields"
"1","
"
