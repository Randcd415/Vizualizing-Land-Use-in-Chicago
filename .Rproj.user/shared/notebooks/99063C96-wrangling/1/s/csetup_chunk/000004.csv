"0","knitr::opts_chunk$set(echo = TRUE)"
"0","#rm(list = ls())"
"0","library(data.table)"
"2","data.table 1.11.8  Latest news: r-datatable.com
"
"2","
Attaching package: ‘data.table’

"
"2","The following objects are masked from ‘package:dplyr’:

    between, first, last

"
"2","The following object is masked from ‘package:purrr’:

    transpose

"
"2","The following objects are masked from ‘package:lubridate’:

    hour, isoweek, mday, minute, month, quarter, second, wday, week, yday, year

"
"0","library(rgdal)"
"0","library(sp)"
"0","library(rgeos)"
"2","rgeos version: 0.4-1, (SVN revision 579)
 GEOS runtime version: 3.6.1-CAPI-1.10.1 
 Linking to sp version: 1.3-1 
 Polygon checking: TRUE 

"
"0","library(tidyverse)"
"0","library(magrittr)"
"0","library(here)"
"0","library(stringr)"
"0","library(tidycensus)"
"2","package ‘tidycensus’ was built under R version 3.5.2"
"0","library(sf)"
"0","#get list of all files in directory"
"0","shp_files <- list.files(here(""raw_data"",""zoning_data""))"
"0","read_shps <- function(x){"
"0","  #get directory of specific shapefile"
"0","  file <- paste0(here(""raw_data"", ""zoning_data""), ""/"", x)"
"0","  #get layer name of shapfile in file directory"
"0","  layer <- list.files(file)[1] %>% substr(1, nchar(list.files(file)[1]) -4)"
"0","  #read in shapefile"
"0","  temp <- readOGR(file, layer = layer)"
"0","  #make all column names capitals"
"0","  names(temp) <- names(temp) %>% toupper()"
"0","  #convert ordinance dates from string to date format"
"0","  temp@data$EDIT_DATE <- temp@data$EDIT_DATE %>% as.Date()"
"0","  #assign shapefile name indicating its timeperiod"
"0","  name <- str_replace_all(layer, "" "", ""_"")"
"0","  name <- substr(name, nchar(name) - 6, nchar(name))"
"0","  assign(name, temp, envir = .GlobalEnv)"
"0","}"
"0","  "
"0","#use custom function to read in all shapefiles"
"0","sapply(shp_files, read_shps) %>% invisible()"
"2","
"
